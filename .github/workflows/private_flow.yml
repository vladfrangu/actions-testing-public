name: Private Flow

on:
  workflow_dispatch:
    inputs:
      pr-number:
        required: true
        type: number
      original-repo:
        required: true
        type: string

jobs:
  trigger_private_flow:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout self
        uses: actions/checkout@v4

      - name: Checkout original repo
        uses: actions/checkout@v4
        with:
          repository: ${{ inputs.original-repo }}
          token: ${{ github.token }}
          path: ${{ inputs.original-repo }}

      - name: Checkout PR
        run: |
          gh pr checkout ${{ inputs.pr-number }}
        env:
          GH_TOKEN: ${{ github.token }}

      - name: Print everything
        run: |
          echo "PR number: ${{ inputs.pr-number }}"
          echo "Original repo: ${{ inputs.original-repo }}"

          ls -la

          ls -la ${{ inputs.original-repo }}
